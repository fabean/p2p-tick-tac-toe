{"version":3,"sources":["src/js/scripts.js"],"names":[],"mappings":"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","file":"src/js/scripts.js","sourcesContent":["/* jshint ignore:start */\nlet peer = new Peer({key: 'n0ei2j1souk57b9'}),\n    nameEl = document.getElementById('name-input'),\n    setNameButton = document.getElementById('set-name'),\n    showHostButton = document.getElementById('show-host'),\n    showJoinButton = document.getElementById('show-join'),\n    joinHostButton = document.getElementById('join-host'),\n    peerId = document.getElementById('friends-peer-id'),\n    connectedEl = document.getElementById('connected'),\n    gameTile = makeArray(document.getElementsByClassName('tile')),\n    gameBoard = document.getElementById('game'),\n    playerconnection,\n    name;\n\n// peer stuff\npeer.on('open', function(id) {\n  document.getElementById('your-id').innerHTML = `<span>Your id is: <kbd>${id}</kbd></span>`;\n});\n\npeer.on('connection', function(playerconnection, name){\n  connectBack(playerconnection.peer);\n  playerconnection.on('open', function(){\n    renderConnectedTo(playerconnection.peer);\n\n    playerconnection.on('data', function(data){\n      console.log(data);\n      renderData(data, 'them');\n      renderMove(data, 'them');\n    });\n\n  });\n\n});\n\nfunction renderConnectedTo(peer) {\n  connectedEl.innerHTML = `You're connected to <span id=\"friendID\">${peer}</span>`;\n  connectedEl.classList.remove('hide');\n  document.getElementById('init-wrapper').classList.add('hide');\n}\n\nfunction connectBack(id) {\n  // recieve a connection and connect back\n  console.log(playerconnection);\n  if (typeof playerconnection === 'undefined') {\n    // we need to connect back;\n    playerconnection = peer.connect(id);\n    console.log('connecting again');\n  }\n}\n\n// set name events / functions\nsetNameButton.addEventListener('click', function () {\n  setName();\n});\n\nfunction setName() {\n  let nameInput = document.getElementById('name-input');\n  name = nameInput.value;\n  nameInput.classList.add('hide');\n  setNameButton.classList.add('hide');\n  showHostButton.classList.remove('hide');\n  showJoinButton.classList.remove('hide');\n}\n\n// host / join\nshowHostButton.addEventListener('click', function(){\n  document.getElementById('host').classList.toggle('hide');\n});\n\nshowJoinButton.addEventListener('click', function(){\n  document.getElementById('join').classList.toggle('hide');\n});\n\njoinHostButton.addEventListener('click', function(){\n  playerconnection = peer.connect(peerId.value);\n  document.getElementById('join').classList.toggle('hide');\n});\n\nfunction renderData(data, who){\n\n  // building out all the elements and rendering to page\n  // let messageWrapper = document.createElement('div');\n  // messageWrapper.classList.add('chat','message-wrapper',who);\n  //\n  // let messagePerson = document.createElement('div');\n  // messagePerson.classList.add('name','circle-wrapper','animated','bounceIn');\n  //\n  // let personName = document.createTextNode(data.name.charAt(0));\n  // messagePerson.appendChild(personName);\n  //\n  // let messageDiv = document.createElement('div');\n  // messageDiv.classList.add('message','text-wrapper');\n  //\n  // let messageContent = document.createTextNode(data.message);\n  // messageDiv.appendChild(messageContent);\n  //\n  // messageWrapper.appendChild(messagePerson);\n  // messageWrapper.appendChild(messageDiv);\n  //\n  // chatOutputEl.appendChild(messageWrapper);\n\n  if (who === 'them' && document.getElementById('friendID').innerHTML !== data.name) {\n    renderConnectedTo(data.name);\n  }\n  console.log(data, who);\n}\n\nfor (let i=0, ii=gameTile.length; i<ii; i++) {\n  gameTile[i].addEventListener('click', function(e) {\n    console.log(e.target.id);\n    if (!e.target.classList.contains('disabled') && !game.classList.contains('disabled')) {\n      sendMove(e.target.id);\n    }\n    else {\n      alert('no cheating!');\n    }\n\n  });\n}\n\nfunction sendMove(tile) {\n  let tileEl = document.getElementById(tile);\n  tileEl.classList.add('x');\n  tileEl.classList.add('disabled');\n  game.classList.add('disabled');\n  let data = {\n    \"move\": tile,\n    \"name\": name\n  };\n  playerconnection.send(data);\n}\n\nfunction renderMove(data) {\n  let tileEl = document.getElementById(data.move);\n  tileEl.classList.add('o');\n  tileEl.classList.add('disabled');\n  game.classList.remove('disabled');\n}\n\nfunction makeArray(r){return[].slice.call(r,0)}\n"]}